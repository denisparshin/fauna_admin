.clearfix
  //%products-index-filters
  %form.text-line.row(name="filtersForm" ng-submit="submitSearch()")
    %input.hidden(type="submit")
    .col-xs-2
      %select.form-control(ng-model="search.catalog_id")
        %option(value='') {{::'js.products.placeholder.catalog_id' | translate}}
        %option(ng-repeat="c in catalogs" value="{{c.id}}") {{c.name}}
    .col-xs-3
      %select.form-control(ng-model="search.category_id")
        %option(value='') {{::'js.products.placeholder.category_id' | translate}}
        %option(ng-repeat="c in getCategories()" value="{{c.id}}") {{c.name}}
    .col-xs-3
      .form-search
        %input.form-control(placeholder="{{::'js.products.placeholder.keyword' | translate}}")
    .col-xs-3
      %select.form-control(ng-model="search.order_by")
        %option(value='') {{::'js.products.placeholder.order_by' | translate}}
        %option(ng-repeat="c in searchOrderings" value="{{c.value}}") {{c.name}}
    .col-xs-1
      %button.btn.btn-block.btn-primary(type='submit' ng-disabled='!filtersForm.$dirty')
        = icon :search
  .progress-red
    .progress-red-value
  .gtr-b-sm(ng-repeat="product in products track by product.id" product-item)
    .box-tickets.bg-white
      .gtr-hor-sm.gtr-ver-sm
        .row
          .tbl
            .tbl-cell.cell-3.align-top.gtr-hor
              %a(ng-if="product.pictures.length" ng-href='/#/products/{{::product.id}}')
                %img.cell-12(ng-src="{{product.pictures[0]}}")
            .tbl-cell.cell-9.align-top.gtr-hor
              .text-line
                %a(ng-href='/#/catalogs/{{::product.category.catalog.id}}') {{::product.category.catalog.name}}
                \/
                %a(ng-href='/#/categories/{{::product.category.id}}') {{::product.category.name}}
                \/
                %a(ng-href='/#/products/{{::product.id}}')
                  {{::product.name}}
              .gtr-b-sm.text-sm(ng-repeat="sub in product.sub_products track by sub.id")
                .smile.label.label-default.align-middle {{sub.sku}}
                .smile.align-middle(ng-bind-html="sub.name")
                %i.smile.align-middle.color-green ({{sub.price | currency}})

  %pagination(page="page" count="count" per="per")
